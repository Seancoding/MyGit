Thoughtworks 笔试题

解答思路：

根据给定数据格式建立商品类和商品库类，建立收银机模块；
收银机模块：
接受字符串格式的输入数据，用正则表达式识别并记录；
接受促销信息，用正则表达式识别优惠商品并记录；
根据是否达到优惠条件打印不同的小票；

题目如下

收银机 - G1 - 按类批发价出售 
________________________________________
需求描述 
商店里进行购物结算时会使用收银机系统，这台收银机会在结算时根据客户的购物车中的商品和商店正在进行的优惠活动进行结算和打印购物小票。 
已知商品信息包含：名称，数量单位，单价，类别和条形码（伪），数据结构如下： 
javascript { barcode: 'ITEM000000', name: '可口可乐', unit: '瓶', category: '食品', subCategory: '碳酸饮料', price: 3.00 } 
已知我们可以对收银机进行设置，使之支持各种优惠。 
我们需要实现一个名为打印小票的小模块，收银机会将输入的数据转换成一个JSON数据然后一次性传给我们这个小模块，我们将从控制台中输出结算清单的文本。 
输入格式（样例）： 
javascript [ 'ITEM000001', 'ITEM000001', 'ITEM000001', 'ITEM000001', 'ITEM000001', 'ITEM000003-2', 'ITEM000005', 'ITEM000005', 'ITEM000005' ] 
其中对'ITEM000003-2'来说,"-"之前的是标准的条形码,"-"之后的是商品数量。 当我们购买需要称量的物品的时候,由称量的机器生成此类条形码,收银机负责识别生成小票。 
该商店正在对部分商品进行“按类批发价出售”的优惠活动。解释： 
“按类批发价出售”是指，当某一子类型商品（比如碳酸饮料）买进十个以上（含十个），一律按照九五折出售。店员设置该优惠哪些条形码对应的商品可以享受此优惠。 
要求写代码支持上述的功能，并根据输入和设置的不同，输出下列小票。 
小票内容及格式（样例）： 
当购买的商品中，有符合“按类批发价出售”优惠条件的商品时： 
` *<没钱赚商店>购物清单* 名称：可口可乐，数量：6瓶，单价：3.00(元)，小计：17.10(元)，优惠：0.90(元) 名称：雪碧，数量：5瓶，单价：3.00(元)，小计：14.25(元)，优惠：0.75(元) 名称：羽毛球，数量：5个，单价：1.00(元)，小计：5.00(元) 名称：苹果，数量：2斤，单价：5.50(元)，小计：11.00(元) 
________________________________________
批发价出售商品： 名称：可口可乐，数量：6瓶 名称：雪碧，数量：5瓶 
________________________________________
总计：47.35(元) 节省：1.65(元) 
________________________________________
` 
当购买的商品中，没有符合“按类批发价出售”优惠条件的商品时： 
` *<没钱赚商店>购物清单* 名称：可口可乐，数量：3瓶，单价：3.00(元)，小计：9.00(元) 名称：羽毛球，数量：5个，单价：1.00(元)，小计：5.00(元) 名称：苹果，数量：2斤，单价：5.50(元)，小计：11.00(元) 
________________________________________
总计：25.00(元) 
________________________________________
` 
数据格式 
每一个商品对象的结构如下（样例）： 
javascript { barcode: 'ITEM000000', name: '可口可乐', unit: '瓶', category: '食品', subCategory: '碳酸饮料', price: 3.00 } 
促销信息对象的数组格式（样例）： 
javascript [ { type: 'BUY_THREE_GET_ONE_FREE', barcodes: [ 'ITEM000000', 'ITEM000001' ] } ] 
作业要求 
1.	请完成全部需求，并输出样例格示的小票； 
2.	程序实现语言（JavaScript、C#、Java、Scala等）和实现形式（Console、Web、Desktop、APP等）不限； 
3.	请在保证实现代码的同时，尽量保持代码的整洁性、可读性、易于扩展和维护性等； 
